{% extends "base.html" %}

{% block content %}

<div class='container'>
    <h1>Owners</h1>
    <div class="search_add_delete row">
        <input type="text" id="searchInput" onkeyup="searchFunction()" placeholder="Search by Pesel...">
        <div class="add-user">
            <button class="btn btn-success btn-block" type="button" data-toggle="modal" data-target="#add-owner-form">New Owner</button>
        </div>
    </div>

    <div class="row flex-lg-nowrap">
        <table>
            <thead>
                <tr>
                    <th> </th>
                    <th>Name</th>
                    <th>Surname</th>
                    <th>Address</th>
                    <th>Phone Number</th>
                    <th>Pesel</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                {% for owner in owners %}
                    <tr>
                        <td class="align-middle">
                            <div class="custom-control custom-control-inline custom-checkbox custom-control-nameless m-0 align-top">
                              <input type="checkbox" class="custom-control-input" id="item-1">
                              <label class="custom-control-label" for="item-1"></label>
                            </div>
                        </td>
                        <td>{{ owner.name }}</td>
                        <td>{{ owner.surname }}</td>
                        <td>{{ owner.address }}</td>
                        <td>{{ owner.phone_number }}</td>
                        <td>{{ owner.pesel }}</td>
                        <td class="text-center align-middle">
                            <div class="btn-group align-top">
                                <button class="btn btn-sm btn-outline-secondary badge" type="button" data-toggle="modal" data-target="#add-owner-form">Edit</button>
                                <button class="btn btn-sm btn-outline-secondary badge" type="button"><i class="fa fa-trash"></i></button>
                            </div>
                          </td>
                        <!-- <td><a class="nav-link" href="/patients/{{ owner.owner_id }}">view page</a></td> -->
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

<!-- add owner form -->
<div class="modal fade" role="dialog" tabindex="-1" id="add-owner-form"> 
      <div class="py-1">       
        <div class="modal-dialog modal-lg" role="document">
            <div class = 'modal-content'>
                <div class="modal-header">
                    <h5>Add new owner</h5>
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">Ã—</span>
                    </button>
                </div>
                <div class="modal-body">
                <form class="form" novalidate="" action="/add_owner" method="POST">
                    <div class="form-group">
                        <label for="name">Name:</label>
                        <input type="text" name="name" id="name" required placeholder="...">
                    </div>
                    <label for="surname">Surname:</label>
                    <input type="text" name="surname" id="surname" required placeholder="...">
                    <label for="address">Address:</label>
                    <input type="text" name="address" id="address" required placeholder="ulica, kod pocztowy, miasto">
                    <label for="phone_number">Phone Number:</label>
                    <input type="text" name="phone_number" id="phone_number" required placeholder="...">
                    <label for="pesel">Pesel:</label>
                    <input type="text" name="pesel" id="pesel" required placeholder="...">
                    <button class="btn btn-success btn-block" type="submit">Submit</button>
                </form>
                </div>
            </div>
            </div>
        </div>
</div>

{% endblock %}